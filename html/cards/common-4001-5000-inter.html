<script>
    let googleFull = '';
    let googleThree = '';
    let reversoFull = '';
    let reversoThree = '';
    let lingueeFull = '';
    let lingueeThree = '';
    
    function threeReversoFirst(){
        reversoFull = threeFirst('dvReverso','btReversoMin','btReversoMax');
    }
    function threeGoogleFirst(){
        googleFull = threeFirst('dvGoogle','btGoogleMin','btGoogleMax');
    }
    function threeLingueeFirst(){
        lingueeFull = threeFirst('dvLinguee','btLingueeMin','btLingueeMax');
    }
    
    function threeFirst(dvSite, siteBtMin, siteBtMax) {
      let divContent = document.getElementById(dvSite).firstChild.textContent;
      let comma1, comma2, comma3, comma4, contentThreeFirst = '';
      let btMaxHide = false;
      if (divContent != '') {
        comma1 = divContent.indexOf(',');
        if(comma1==-1) {
            comma1 = divContent.length;
            btMaxHide = true;
        }
        comma2 = divContent.indexOf(',',comma1+1);
        if(comma2==-1) {
            comma2 = comma1;
            btMaxHide = true;
        }
        comma3 = divContent.indexOf(',',comma2+1);
        if(comma3==-1) {
            comma3 = comma2;
            btMaxHide = true;
        }
        comma4 = divContent.indexOf(',',comma4+1);
        if(comma4==-1) {
            comma4 = comma3;
            btMaxHide = true;
        }
        contentThreeFirst = divContent.substring(0,comma4);
        let contentFull = document.getElementById(dvSite).firstChild.textContent;
        document.getElementById(dvSite).firstChild.textContent = contentThreeFirst;
        document.getElementById(siteBtMin).style.display='none';
        if(btMaxHide)
            document.getElementById(siteBtMax).style.visibility='hidden';
        else
            document.getElementById(siteBtMax).style.visibility='visible';
        return contentFull;
      }
    }
    
    function showReversoFull(){
        reversoThree = showFull('dvReverso', reversoFull, 'btReversoMin', 'btReversoMax');
    }
    function showGoogleFull(){
        googleThree = showFull('dvGoogle', googleFull, 'btGoogleMin', 'btGoogleMax');
    }
    function showLingueeFull(){
        lingueeThree = showFull('dvLinguee', lingueeFull, 'btLingueeMin', 'btLingueeMax');
    }
    
    function showFull(site, siteFull, siteBtMin, siteBtMax) {
        siteThree = siteFull;
        document.getElementById(site).firstChild.textContent = siteFull;
        document.getElementById(siteBtMin).style.display='inline';
        document.getElementById(siteBtMax).style.visibility='hidden';
        return siteThree;
    }
    
    
    function yandexMax () {
        document.getElementById('dvYandex').style.display='block';
        document.getElementById('btYandexMax').style.visibility='hidden';
    }
    function yandexMin () {
        document.getElementById('dvYandex').style.display='none';
        document.getElementById('btYandexMax').style.visibility='visible';
    }
    
    function deeplMax () {
        document.getElementById('dvDeepl').style.display='block';
        document.getElementById('btDeeplMax').style.visibility='hidden';
    }
    function deeplMin () {
        document.getElementById('dvDeepl').style.display='none';
        document.getElementById('btDeeplMax').style.visibility='visible';
    }
    
    function loadScripts () {
        threeReversoFirst();
        threeGoogleFirst();  
        threeLingueeFirst();  
    
        document.getElementById('btReversoMax').addEventListener('click',showReversoFull);
        document.getElementById('btReversoMin').addEventListener('click',threeReversoFirst);
        document.getElementById('btGoogleMax').addEventListener('click',showGoogleFull);
        document.getElementById('btGoogleMin').addEventListener('click',threeGoogleFirst);
        document.getElementById('btLingueeMax').addEventListener('click',showLingueeFull);
        document.getElementById('btLingueeMin').addEventListener('click',threeLingueeFirst);
    
        document.getElementById('btDeeplMin').addEventListener('click',deeplMin);
        document.getElementById('btDeeplMax').addEventListener('click',deeplMax);
        document.getElementById('btYandexMin').addEventListener('click',yandexMin);
        document.getElementById('btYandexMax').addEventListener('click',yandexMax);
    }
    
    </script>
    
    <font color="#3ff"><b>slipped</b></font>
    <br>
    {{ipa1}} <font color="#3ff"><b>--</b></font> {{ipa2}}
    <hr id=answer>
    {{mp3}}
    <br>
    
    <font color="#3ff"><b>Reverso:</b></font>
    <button  id="btReversoMax">+</button>
    <br>
    <div  id="dvReverso">(8050)ace,(2000)free,(500)ox,(100)nothing,(5)great <button id="btReversoMin">-</button></div>
    
    <font color="#3ff"><b>Google:</b></font>
    <button id="btGoogleMax">+</button>
    <br>
    <div id="dvGoogle">(3)no,(3)please,(2)fight,(1)yes,(1)zero <button id="btGoogleMin">-</button></div>
    
    
    <font color="#3ff"><b>Linguee:</b></font><button id="btLingueeMax">+</button>
    <div id="dvLinguee">no,please,fight,yes,zero <button id="btLingueeMin">-</button></div>
    
    
    <font color="#3ff"><b>Deepl:</b></font> 
    <button id="btDeeplMax">+</button>
    <br>
    <div id="dvDeepl" style="display:none">worked, problems
        <button id="btDeeplMin">-</button>
    </div>
    
    
    <font color="#3ff"><b>Yandex:</b></font>
    <button id="btYandexMax">+</button>
    <div id="dvYandex" style="display:none">haul, harbor, last 
        <button id="btYandexMin">-</button>
    </div>
    
    <hr>
    <font color="#3ff"><b>Phrases:</b></font>
    <br>
    <div id="en-phrases">{{en-phrases}}</div>
    <hr>
    <font color="#3ff"><b>Frases:</b></font>
    <br>
    <div id="en-phrases">{{pt-phrases}}</div>

<script>
    window.onload = loadScripts();
</script>